<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
    <h1>코로나 데이터</h1>
    <!-- 
        서버에서 보낸 columns 첫번째 행에 열에 하나씩 대입
        columns -> ['등록일시', '총사망자', ...]
    -->
    <div>
        <canvas id="myChart"></canvas>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const ctx = document.getElementById('myChart');
      
        new Chart(ctx, {
          type: 'line',
          data: {
            labels: {{axis_x}},
            datasets: [{
              label: '일일사망자',
              data: {{axis_y}},
              borderWidth: 1
            }]
          },
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });
      </script>

    <table class="table">
        <tr>
            <th>index</th>
            <th>{{columns[0]}}</th>
            <th>{{columns[1]}}</th>
            <th>{{columns[2]}}</th>
            <th>{{columns[3]}}</th>
            <th>{{columns[4]}}</th>
            <th>{{columns[5]}}</th>
        </tr>
        <!-- 
            values 데이터의 값들을 행으로 하나씩 대입 
            values  -> [
                [1, 2, 3, 4, 5, 6], [], [], ....
            ]
         -->
         {% for i in range( v_cnt ): %}
            <tr>
                <td>{{i+1}}</td>
                {% for j in range( c_cnt ): %}
                    <td>{{values[i][j]}}</td>
                {% endfor %}
            </tr>
         {% endfor %}
    </table>
</body>
</html>